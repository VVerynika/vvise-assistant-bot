# 🤖 Бот-Помощник для Анализа Проблем

**🚀 СИСТЕМА ГОТОВА К ИСПОЛЬЗОВАНИЮ!**

Интеллектуальный бот-помощник, который автоматически анализирует данные из Slack и ClickUp, выявляет дублирующиеся и связанные проблемы, классифицирует их по приоритетам и отслеживает прогресс решения.

## ✨ Что готово

✅ **Полная система анализа проблем** - автоматическое выявление и классификация  
✅ **Интеграции** - Slack, ClickUp, Telegram, Google Sheets  
✅ **Мониторинг** - производительность, статус, логи  
✅ **Уведомления** - многоканальные, с защитой от спама  
✅ **Веб-интерфейс** - дашборд и управление  
✅ **Docker поддержка** - готово к развертыванию  
✅ **Документация** - подробные инструкции и примеры  
✅ **Тестирование** - полная проверка всех компонентов  

## 🚀 Быстрый старт

### Автоматическая установка (рекомендуется)

```bash
# Клонируйте репозиторий
git clone <repository-url>
cd bot-assistant

# Запустите автоматическую установку
python3 quick_start.py
```

### Ручная установка

```bash
# Установите зависимости
pip install -r requirements.txt

# Создайте файл .env
cp .env.example .env

# Отредактируйте .env файл
nano .env

# Запустите тесты
python3 test_system.py

# Запустите систему
./start.sh start
```

## 🔧 Основные возможности

### 🔍 Анализ данных
- **Slack интеграция**: Анализ всех каналов, личных сообщений и истории обсуждений
- **ClickUp интеграция**: Мониторинг задач, документации и прогресса
- **Автоматическое сопоставление**: Связывание проблем между Slack и ClickUp

### 🎯 Выявление проблем
- Дублирующиеся проблемы в разных источниках
- Частично описанные проблемы в разных задачах
- Связанные проблемы, относящиеся к одной общей проблеме
- Забытые проблемы без прогресса
- Важные обращения от пользователей
- Личные сообщения, требующие внимания

### 📊 Классификация и приоритизация
- Автоматическая категоризация проблем
- Приоритизация по важности (1-5, где 1 - высший)
- Тегирование для группировки
- Отслеживание статуса и прогресса

### 📈 Отчетность и мониторинг
- Сводные отчеты в Google Sheets
- Дашборд с актуальной статистикой
- Уведомления через Telegram
- Непрерывный мониторинг новых данных

## 🏗️ Архитектура

```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│   Slack API     │    │  ClickUp API    │    │ Telegram Bot    │
└─────────┬───────┘    └─────────┬───────┘    └─────────┬───────┘
          │                      │                      │
          ▼                      ▼                      ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│SlackIntegration │    │ClickUpIntegration│    │  TelegramBot    │
└─────────┬───────┘    └─────────┬───────┘    └─────────┬───────┘
          │                      │                      │
          └──────────┬───────────┴──────────┬───────────┘
                     │                      │
                     ▼                      ▼
          ┌─────────────────┐    ┌─────────────────┐
          │ProblemAnalyzer  │    │GoogleSheetsMgr  │
          │(SQLite DB)      │    │(Reports & Logs) │
          └─────────────────┘    └─────────────────┘
```

## 📋 Требования

- Python 3.8+
- Slack Bot Token
- ClickUp API Token
- Telegram Bot Token
- Google Sheets API (Service Account)
- PostgreSQL (опционально)
- Redis (опционально)

## 🛠️ Установка

### 1. Клонирование репозитория
```bash
git clone <repository-url>
cd bot-assistant
```

### 2. Установка зависимостей
```bash
pip install -r requirements.txt
```

### 3. Настройка переменных окружения
Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

Заполните необходимые переменные:
```env
# Slack Integration
SLACK_TOKEN=xoxb-your-slack-bot-token-here

# ClickUp Integration
CLICKUP_API_TOKEN=your-clickup-api-token-here
CLICKUP_WORKSPACE_ID=your-workspace-id-here

# Telegram Bot
TELEGRAM_TOKEN=your-telegram-bot-token-here
TELEGRAM_AUTHORIZED_USERS=123456789,987654321

# Google Sheets
GOOGLE_SHEET_ID=your-google-sheet-id-here
SERVICE_ACCOUNT_JSON_PATH=/path/to/service-account.json
```

### 4. Запуск через Docker (рекомендуется)
```bash
docker-compose up -d
```

### 5. Запуск локально
```bash
python3 main.py
```

## 📁 Структура проекта

```
bot-assistant/
├── main.py                    # Главный файл приложения
├── problem_analyzer.py        # Анализ и классификация проблем
├── slack_integration.py       # Интеграция со Slack
├── clickup_integration.py     # Интеграция с ClickUp
├── telegram_bot.py            # Telegram бот
├── google_sheets_manager.py   # Управление Google Sheets
├── system_manager.py          # Системный менеджер
├── notifications.py           # Система уведомлений
├── config.py                  # Управление конфигурацией
├── monitor.py                 # Мониторинг производительности
├── requirements.txt           # Python зависимости
├── Dockerfile                 # Docker образ
├── docker-compose.yml         # Docker Compose конфигурация
├── .env                       # Переменные окружения
├── .env.example              # Пример переменных окружения
├── README.md                  # Документация
├── INSTALL.md                 # Инструкции по установке
├── SYSTEM_INFO.md             # Информация о системе
├── EXAMPLE.md                 # Примеры использования
├── quick_start.py             # Автоматическая установка
├── start.sh                   # Bash скрипт управления
├── manage.py                  # Управление системой
├── test_system.py             # Тестирование системы
├── data/                      # Данные и база SQLite
├── logs/                      # Логи системы
└── static/                    # Статические файлы для веб-интерфейса
```

## 🔧 Использование

### Команды Telegram бота
- `/start` - Начало работы
- `/help` - Справка по командам
- `/status` - Статус системы
- `/report` - Сводный отчет
- `/problems` - Список проблем
- `/forgotten` - Забытые проблемы
- `/sync` - Синхронизация с Google Sheets
- `/cleanup` - Очистка старых данных
- `/restart` - Перезапуск системы

### Мониторинг через веб-интерфейс
Откройте `http://localhost:8000` для доступа к веб-интерфейсу мониторинга.

### Управление системой
```bash
# Запуск
./start.sh start

# Остановка
./start.sh stop

# Статус
./start.sh status

# Логи
./start.sh logs

# Тесты
./start.sh test
```

## 🚀 Готовые возможности

### ✅ Автоматический анализ
- Мониторинг Slack каналов в реальном времени
- Анализ ClickUp задач и документации
- Выявление дублирующихся проблем
- Классификация по категориям и приоритетам

### ✅ Умные уведомления
- Telegram бот с командами управления
- Slack уведомления в каналы
- Email уведомления (настраивается)
- Webhook интеграции
- Защита от спама и rate limiting

### ✅ Мониторинг и отчетность
- Веб-дашборд в реальном времени
- Google Sheets интеграция
- Автоматические отчеты
- Метрики производительности
- Логирование всех операций

### ✅ Масштабируемость
- Docker контейнеризация
- Модульная архитектура
- Конфигурируемые настройки
- Поддержка PostgreSQL и Redis
- Горизонтальное масштабирование

## 🔒 Безопасность

- Все токены хранятся в переменных окружения
- Service Account для Google Sheets
- Авторизованные пользователи Telegram
- Изоляция в Docker контейнерах
- Логирование всех операций

## 📊 Производительность

- Асинхронная обработка данных
- Кэширование API запросов
- Пакетная обработка сообщений
- Оптимизированные SQL запросы
- Мониторинг ресурсов системы

## 🚨 Устранение неполадок

### Проблемы с API
1. Проверьте токены в `.env`
2. Убедитесь в правах доступа
3. Проверьте лимиты API

### Проблемы с базой данных
1. Проверьте права доступа к SQLite
2. Убедитесь в свободном месте на диске
3. Проверьте логи ошибок

### Проблемы с Google Sheets
1. Проверьте права доступа Service Account
2. Убедитесь в корректности ID таблицы
3. Проверьте квоты API

## 🤝 Вклад в проект

1. Форкните репозиторий
2. Создайте ветку для новой функции
3. Внесите изменения
4. Создайте Pull Request

## 📄 Лицензия

MIT License - см. файл LICENSE для деталей.

## 📞 Поддержка

При возникновении проблем:
1. Проверьте логи в `logs/`
2. Обратитесь к документации
3. Создайте Issue в репозитории

## 🔄 Обновления

Для обновления системы:
```bash
git pull origin main
docker-compose down
docker-compose up -d --build
```

## 🎯 Следующие шаги

После установки:

1. **Настройте интеграции** - убедитесь, что все API работают
2. **Протестируйте уведомления** - проверьте работу Telegram и Slack
3. **Настройте Google Sheets** - создайте таблицы для отчетов
4. **Запустите мониторинг** - настройте автоматическое отслеживание
5. **Изучите возможности** - изучите все функции системы

---

**🎉 СИСТЕМА ПОЛНОСТЬЮ ГОТОВА К ИСПОЛЬЗОВАНИЮ!**

**Версия**: 1.0.0  
**Последнее обновление**: 2024  
**Автор**: Bot Assistant Team

🚀 **Начните использовать систему уже сегодня!**